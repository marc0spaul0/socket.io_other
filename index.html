<html>

<body>
    <h1>Socket.io</h1>
<script src="/socket.io/socket.io.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
<div id="msgs"></div>
<input type="text" />
<script>
const socket = io()
socket.on('connect', function() {
    $('#msgs').append('connected with id: '+socket.id+'<br>');
    socket.emit('msg', 'Estou conectado com o id: '+socket.id);
})
socket.on('msg', function(msg) {
    $('#msgs').append(msg+'<br>');
})
$(function() {
    $('input').keydown(function(key) {
        if (key.keyCode === 13) {
            socket.emit('msg', $(this).val());
            $(this).val('');
        }
    });
})
</script>


</body>

</html>